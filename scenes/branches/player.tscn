[gd_scene load_steps=18 format=3 uid="uid://bdseieyno6vv6"]

[ext_resource type="Script" path="res://scripts/player/player_controller.gd" id="1_rhct6"]
[ext_resource type="PackedScene" uid="uid://gon0htus2txt" path="res://scenes/branches/player_animator.tscn" id="2_8l6ln"]
[ext_resource type="Script" path="res://scripts/player/bubble_blower.gd" id="3_5a3ng"]
[ext_resource type="PackedScene" uid="uid://cykdvgxbocvfp" path="res://scenes/branches/bubble.tscn" id="4_wnpsa"]
[ext_resource type="PackedScene" uid="uid://digkub3xgfsdg" path="res://scenes/branches/sfx/bubbleshoot.tscn" id="5_08ebj"]
[ext_resource type="Script" path="res://scenes/branches/sfx/sfx2.gd" id="6_sj4sp"]
[ext_resource type="AudioStream" uid="uid://cfn4d1ejgabvp" path="res://resources/audio/sfx/bubblecharge/bubble-charge-1.ogg" id="7_fefbo"]
[ext_resource type="AudioStream" uid="uid://b30y4gim0ape7" path="res://resources/audio/sfx/bubblecharge/bubble-charge-2.ogg" id="8_xtih2"]
[ext_resource type="AudioStream" uid="uid://dalddxi5h4ihy" path="res://resources/audio/sfx/bubblecharge/bubble-charge-3.ogg" id="9_x1nui"]
[ext_resource type="AudioStream" uid="uid://dlrkam5nh7rlo" path="res://resources/audio/sfx/bubblecharge/bubble-charge-4.ogg" id="10_vtfex"]
[ext_resource type="AudioStream" uid="uid://dyyxygmubcdy4" path="res://resources/audio/sfx/bubblecharge/bubble-charge-5.ogg" id="11_7n5f5"]
[ext_resource type="AudioStream" uid="uid://bfveyxgtmo1oj" path="res://resources/audio/sfx/bubblecharge/bubble-charge-6.ogg" id="12_3ph20"]
[ext_resource type="AudioStream" uid="uid://dkfp5q60xk2qn" path="res://resources/audio/sfx/bubblecharge/bubble-charge-7.ogg" id="13_rjo76"]
[ext_resource type="AudioStream" uid="uid://c3ebk52s6egxm" path="res://resources/audio/sfx/bubblecharge/bubble-charge-8.ogg" id="14_kj77a"]
[ext_resource type="Script" path="res://scripts/audio/bubble_charge.gd" id="15_6n6wj"]

[sub_resource type="CircleShape2D" id="CircleShape2D_kdvex"]

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_d5ks2"]
streams_count = 8
stream_0/stream = ExtResource("7_fefbo")
stream_1/stream = ExtResource("8_xtih2")
stream_2/stream = ExtResource("9_x1nui")
stream_3/stream = ExtResource("10_vtfex")
stream_4/stream = ExtResource("11_7n5f5")
stream_5/stream = ExtResource("12_3ph20")
stream_6/stream = ExtResource("13_rjo76")
stream_7/stream = ExtResource("14_kj77a")

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("bubble_blower")]
script = ExtResource("1_rhct6")
move_force = null
dash_force = null
gravity = null
friction = null
bubble_blower = NodePath("BubbleBlower")
bubble_fixed_recoil = null
bubble_recoil_size_multiplier = null

[node name="PlayerAnimator" parent="." instance=ExtResource("2_8l6ln")]
position = Vector2(-1, -1)
animation = &"fart"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_kdvex")

[node name="BubbleBlower" type="Node2D" parent="."]
script = ExtResource("3_5a3ng")
bubble_scene = ExtResource("4_wnpsa")

[node name="Camera2D" type="Camera2D" parent="."]
drag_horizontal_enabled = true
drag_vertical_enabled = true

[node name="Bubbleshoot" parent="." instance=ExtResource("5_08ebj")]
script = ExtResource("6_sj4sp")

[node name="BubbleCharge" type="AudioStreamPlayer" parent="."]
stream = SubResource("AudioStreamRandomizer_d5ks2")
script = ExtResource("15_6n6wj")

[connection signal="dashed" from="." to="PlayerAnimator" method="_on_dashed"]
[connection signal="breath_exhausted" from="BubbleBlower" to="PlayerAnimator" method="_on_breath_exhausted"]
[connection signal="breath_exhausted" from="BubbleBlower" to="BubbleCharge" method="_on_bubble_blower_breath_exhausted"]
[connection signal="breath_gained" from="BubbleBlower" to="PlayerAnimator" method="_on_breath_gained"]
[connection signal="bubble_blown" from="BubbleBlower" to="Bubbleshoot" method="_on_bubble_blower_bubble_blown"]
